# -*- coding: utf-8 -*-
"""
Created on Tue Feb  8 20:51:54 2022

@author: rkpam
"""

import time

points = 0
bully1 = "Chester"
bully2 = "Patrick"
bully3 = "Clarence"

def drawFace(mood):
    '''
    used to display bob's emotions at certain points of the story.
    '''
    if mood == "sad":
        print("__________")
        print("|         |")
        print("| O     O |")
        print("|    ^    |")
        print("|  _____  |")
        print("| /     \ |")
        print("|_________|")
    if mood == "neutral":
        print("__________")
        print("|         |")
        print("| O     O |")
        print("|    ^    |")
        print("|  _____  |")
        print("|         |")
        print("|_________|")
    if mood == "happy":
        print("__________")
        print("|         |")
        print("| O     O |")
        print("|    ^    |")
        print("| \_____/ |")
        print("|         |")
        print("|_________|")
    if mood == "angry":
        print("__________")
        print("| \     / |")
        print("| O     O |")
        print("|    ^    |")
        print("|  _____  |")
        print("| /     \ |")
        print("|_________|")
    if mood == "upset":
        print("__________")
        print("| /     \ |")
        print("| O     O |")
        print("|    ^    |")
        print("|  _____  |")
        print("| /     \ |")
        print("|_________|")


def intro(): # the beginning of the story where the setting and characters are introduced
    emotion = "neutral"
    drawFace(emotion)
    print("This is Bob. Bob is a student at high school.")
    time.sleep(2)
    
    
def event1(points):
    print("You are Bob's friend. One day, you are walking in the hallway when you see Bob surrounded by a group of kids.")
    time.sleep(2)
    '''
    In this event, the player spots Bob being bullied by a group of kids. The player's decision to stop the bullying or not impacts the rest of the game.
    '''
    print("\nThe kids surround Bob, towering over him.")
    time.sleep(1)
    print(bully1 + ": You're soooo stupid. You're even dumber than a rock!")
    time.sleep(2)
    print(bully2 + ": You must have been born on a highway, because that's where most accidents happen.")
    time.sleep(2)
    print(bully3 + ": Your mamma so fat she has to wear 2 watches because she covers two time zones.\n")
    time.sleep(3)
    emotion = "sad"
    drawFace(emotion)
    points = choice1(points)
    return points
    
    
def choice1(points):
    c = input("*Bob is very sad.* You have three options:\n1. Tell the kids to stop bullying Bob.\n2. Join the kids and make fun of Bob\n3. Keep walking and ignore them.\nWhat do you choose? (1-3):").strip()
    if c == "1":
        points += 10
        print("*You tell " + bully1 + ", " + bully2 + ", and " + bully3 + " to stay away from Bob. They look at you angrily and walk away.*")
        time.sleep(1)
        emotion = "happy"
        drawFace(emotion)
        print("Bob: Thanks for standing up for me. Those guys were being very mean.")
        print("*You and Bob walk to class together and the rest of your day is peaceful.*")
    elif c == "2":
        points += -10
        print("\n*You walk towards the group and start insulting Bob.*")
        time.sleep(2)
        emotion = "angry"
        drawFace(emotion)
        time.sleep(2)
        print("Bob: Why would you do this? I thought we were friends.")
    elif c == "3":
        points += -5
        print("*You walk faster towards your class, and out of the corner of your eye you see Bob frowning at you.*")
        emotion = "sad"
        drawFace(emotion)
    return points

def event2(points):
    '''
    In this event,  
    '''
    time.sleep(2)
    print("---------------------")
    time.sleep(2)
    print("*One week later, the bullies log into Bob's Picturegram account and post some pictures. Many of Bob's classmates see the pictures, and Bob is very embarrassed.*")
    time.sleep(2)
    emotion = "upset"
    drawFace(emotion)
    print("*Bob texts you on Pipboard to tell you about what happened.*")
    time.sleep(2)
    print("~Start of Pipboard messages~")
    time.sleep(2)
    print("bobboilersuit: You need to help me!")
    time.sleep(2)
    print("You: What happened Bob?")
    time.sleep(2)
    print("bobboilersuit: Someone logged into my Picturegram yesterday! They posted pictures of me getting a wedgie during gym!")
    time.sleep(2)
    choice = input("You have two options:\n1. Ghost Bob and go on with your day.\n2. Help Bob fix his password.\nWhat do you choose (1/2): ")
    if choice == "1":
        print("\nYou ignore Bob's message. Later in the day, you see many Picturegram posts from students laughing at Bob.")
        points += -15
    elif choice == "2":
        points = passwordMinigame(points)
        emotion = "happy"
        drawFace(emotion)
        time.sleep(2)
        print("Bob is thankful that you helped him protect his Picturegram account.")
        
    return points

def passwordMinigame(points): 
    time.sleep(1)
    print("\nIn order to protect Bob's account from the bullies, you must change his password to something the bullies can't guess.")
    tries = 5
    while tries > 0:
        print("\ntries: " + str(tries))
        passGuess = input("Choose a new password for Bob: ")
        score = passCheck(passGuess)
        if score >= 4:
            print("\nGood job! Your password was good enough for Bob to use!")
            points += 10
            break
        else:
            print("\nUh oh. Your password is too weak for Bob's account. Try again.")
            tries -= 1

    return points

def passCheck(password):
    # check for: capital + lowercase letter, special character, certain length
    
    score = 0
    
    if " " in password:
        print("Invalid password.")
        return score
    
    time.sleep(1)
    if len(password) > 8:
        score += 1
        print("+1: Your password is long, which makes it harder for anyone to guess it.")
    else:
        print("Your password was less than 8 characters. Try to choose a longer password.")
        
    time.sleep(1)
    if not password.isalnum():
        score += 1
        print("+1: Your password has more than just the alphabet and some numbers. More complexity will also make your account more secure.")
    else:
        print("You should have special characters in your password.")
        
    time.sleep(1)  
    if not password.islower():
        score += 1
        print("+1: Nice! Your password has both lowercase and uppercase letters in it.")
    else:
        print("Your password needs both lowercase and uppercase letters.")
    
    time.sleep(1)
    if "bob" in password or "BOB" in password or "Bob" in password:
        print("Putting your name in a password is a really bad idea.")
    else:
        score += 1
       
    time.sleep(1)
    if not password.isdigit() and not password.isalpha():
        score += 1
        print("+1: Good! Your password doesn't just have numbers.")
    else:
        print("A password should not have just numbers or just letters. Put some letters and special characters in it as well!")
        
    time.sleep(2)
    return score

def goodevent3(points):
    print("---------------------")
    time.sleep(2)
    print("Bob: Thanks for the help yesterday, I was able to recover my account and control the amount of people that saw the image.")
    time.sleep(2)
    print("*" + bully1 + ", " + bully2 + ", and " + bully3 + " walk outside of the school and see you two together.*")
    time.sleep(2)
    print(bully1 + ": What are you doing with that loser?")
    time.sleep(2)
    goodchoice3(points)

    
def goodchoice3(points):
    choice = input("You are left with 2 options:\n1. Defend Bob from the bullies.\n2. Remain silent.\nWhat will you choose?(1/2): ")
    if choice == "1":
        points += 10
        print(bully2 + ": Pfft.")
        time.sleep(2)
        print("*" + bully2 + " sneers, and they turn and leave.*")
        time.sleep(2)
        print("Bob: Thanks again, you really have saved me recently, I owe you one.")
        time.sleep(2)
    elif choice == "2":
        points += -5
        print(bully2 + ": Cat got your tongue? You losers all act the same, not enough courage to even fight back.")
        time.sleep(2)
        print("*He stares at both of you for a few seconds, and no one says anything. He sneers and they turn and leave.*")
        time.sleep(2)
        print("Bob: Why do they hate me so much? What did I do to deserve this...")
        time.sleep(2)
        print("*You are silent without a clue how to respond.*")
        time.sleep(2)
        
def badevent3(points):
    
    print("*Bob meets with you outside after school*")
    time.sleep(2)
    emotion = "angry"
    drawFace(emotion)
    print("Bob: What the heck is wrong with you?, Where did you go when I needed your help the most?")
    time.sleep(2)
    print("*You try to make up an excuse, but Bob isn't having it.*")
    time.sleep(2)
    print("Bob:  Are you insane? You took some meaningless chore over assisting one of your friends out of a situation they needed help in?")
    time.sleep(2)
    print("*You have betrayed Bob's trust and ruined your friendship. Tears begin to well up in Bob's eyes.*")
    time.sleep(2)
    print("*While the screaming continued, " + bully1 + ", " + bully2 + ", and " + bully3 + " walk outside of the school and see you two together.*")
    time.sleep(2)
    print(bully1 + ": What are you doing with that loser?")
    time.sleep(2)
    points = badchoice3(points)
    return points
    
def badchoice3(points):
    choice = input("*You are left with 2 options*:\n1. Pretend you don't know Bob and push him away from you.\n2. Defend Bob from the bullies again.\nWhat will you choose?(1/2): ")
    if choice == "1":
        points += -20
        print(bully2 + ": Now that we're on the same page, why dont you give us some more incriminating pictures?")
        time.sleep(2)
        print("*You walk over and join their group, leaving your friend in the dust.*")
        time.sleep(2)
    if choice == "2":
        points += 10
        print(bully3 + ": You losers are all the same, trying to help each other thinking you are each others knight in shining armor!")
        time.sleep(2)
        print("They walk away, leaving you two alone again.*")
        time.sleep(2)
        print("Bob: I'm sorry, I didn't mean to attack you so much. I was frustrated from what happened yesterday, and I can see that you have good intentions.")
        time.sleep(2)
        print("*You apologize to Bob for not being able to help him. You both walk away home, forgetting the problems that occured yesterday.*")
        time.sleep(2)
    return points

if __name__ == "__main__":
    intro()
    points = event1(points)
    points = event2(points)
    if points >= 0:
        goodevent3(points)
    else:
        badevent3(points)
    
    
